<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH"
      crossorigin="anonymous"
    />
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css"
      rel="stylesheet"
    />
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css"
    />

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />

    <script>
      // Apply dark mode immediately before content renders
      const theme = localStorage.getItem("theme");
      if (theme === "dark") {
        document.documentElement.classList.add("dark-mode");
      }
    </script>

    <link rel="stylesheet" href="/css/style.css" />
    <title>Club Management</title>
  </head>
  <body>
    <div class="container mt-4"><%- include("../includes/flash") %></div>
    <nav class="navbar bg-body-tertiary">
      <div
        class="container-fluid d-flex flex-row-reverse align-items-center gap-3"
      >
      <a 
  href="/logout" 
  style="
    display: inline-flex; 
    align-items: center; 
    justify-content: center;
    gap: 6px;
    width: 100px;
    padding: 6px 10px;
    background-color: #e3342f;
    color: white;
    font-size: 14px;
    font-weight: 500;
    border-radius: 6px;
    text-decoration: none;
    cursor: pointer;
    transition: background 0.3s ease;
  "
  onmouseover="this.style.backgroundColor='#cc1f1a'"
  onmouseout="this.style.backgroundColor='#e3342f'"
>
  <!-- Logout Icon -->
  <svg 
    xmlns="http://www.w3.org/2000/svg" 
    fill="none" 
    viewBox="0 0 24 24" 
    stroke="currentColor" 
    style="width:16px; height:16px;"
  >
    <path d="M17 16l4-4m0 0l-4-4m4 4H7m6 4v1a2 2 0 01-2 2H7a2 
             2 0 01-2-2V7a2 2 0 012-2h4a2 2 0 012 2v1" />
  </svg>
  Logout
</a>

        <!-- Toggle Button -->
        <!-- <label class="theme-toggle">
          <input type="checkbox" id="theme-checkbox" />
          <span class="toggle-icon">
            <i class="bi bi-sun"></i>
            <i class="bi bi-moon"></i>
          </span>
        </label>
        <label for="profile-icon">
          <i class="bi bi-person-circle"></i>
        </label> -->
      </div>
    </nav>
    <script
      type="text/javascript"
      src="https://cdn.emailjs.com/dist/email.min.js"
    ></script>
    <script type="text/javascript">
      (function () {
        emailjs.init("TYe4ysqnBvnZ7Fe5w"); // from EmailJS dashboard
      })();
    </script>

    <script>
      async function sendOTP(email, otp) {
        const params = {
          to_email: email,
          to_name: "User", // optional
          otp: otp,
        };

        try {
          const res = await emailjs.send(
            "service18",
            "template_occsvqa",
            params
          );
          console.log("OTP sent!", res.status, res.text);
        } catch (err) {
          console.error("Failed to send OTP", err);
        }
      }
    </script>

    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-YvpcrYf0tY3lHB60NNkmXc5s9fDVZLESaAA55NDzOxhy9GkcIdslK1eN7N6jIeHz"
      crossorigin="anonymous"
    ></script>
    <script src="../../public/js/app.js"></script>

    <!-- <script>
      document.addEventListener("DOMContentLoaded", () => {
        const checkbox = document.getElementById("theme-checkbox");
        if (!checkbox) return;

        // Set initial toggle position
        const theme = localStorage.getItem("theme") || "light";
        checkbox.checked = theme === "dark";

        // Apply dark mode class
        document.body.classList.toggle("dark-mode", theme === "dark");

        // Toggle event listener
        checkbox.addEventListener("change", () => {
          const isDark = checkbox.checked;
          document.body.classList.toggle("dark-mode", isDark);
          localStorage.setItem("theme", isDark ? "dark" : "light");
        });
      });
    </script> -->
  </body>
</html>
